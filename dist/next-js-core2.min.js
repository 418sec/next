(function(){var t="object"==typeof global&&global&&global.Object===Object&&global,e="object"==typeof self&&self&&self.Object===Object&&self,n=t||e||Function("return this")(),_="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=_&&"object"==typeof module&&module&&!module.nodeType&&module;n.nx=n.nx||{BREAKER:{},VERSION:"2.3.3",DEBUG:!1,GLOBAL:n},"function"==typeof define&&"object"==typeof define.amd&&define.amd?(n.nx=nx,define(function(){return nx})):s?((s.exports=nx).nx=nx,_.nx=nx):n.nx=nx,function(){var t=".",e="number",n=Array.prototype,_=Object.prototype.hasOwnProperty;nx.noop=function(){},nx.error=function(t){throw new Error(t)},nx["try"]=function(t){try{t()}catch(e){}},nx.forEach=function(t,e,n){var _,s,i=t.length;for(_=0;_<i&&(s=e.call(n,t[_],_,t),s!==nx.BREAKER);_++);},nx.forIn=function(t,e,n){var s,i;for(s in t)if(_.call(t,s)&&(i=e.call(n,s,t[s],t),i===nx.BREAKER))break},nx.each=function(t,n,s){var i,o,r=function(e,_,i){return n.call(s,e,_,t,i)===nx.BREAKER};if(t)if(o=t.length,typeof o===e)for(i=0;i<o&&!r(i,t[i],!0);i++);else for(i in t)if(_.call(t,i)&&r(i,t[i],!1))break},nx.map=function(t,e,n){var _=[];return nx.each(t,function(){var t=e.apply(n,arguments);return t===nx.BREAKER?nx.BREAKER:void _.push(t)}),_},nx.mix=function(t){var e,n,_=t||{},s=arguments;for(e=1,n=s.length;e<n;e++)nx.forIn(s[e],function(t,e){_[t]=e});return _},nx.slice=function(t,e,_){return n.slice.call(t,e,_)},nx.set=function(e,n,_){for(var s=n.split(t),i=e||nx.GLOBAL,o=s.length-1,r=s[o],a=0;a<o;a++){var c=s[a],f=isNaN(+s[a+1])?{}:[];i=i[c]=i[c]||f}return i[r]=_,e},nx.get=function(e,n){if(!n)return e;var _=n.split(t),s=e||nx.GLOBAL;return _.forEach(function(t){s=s&&s[t]}),s},nx.path=function(t,e,n){return null==n?this.get(t,e):this.set(t,e,n)}}(),function(){var t=function(){},e={__class_id__:0,__type__:"nx.RootClass",__base__:Object,__meta__:{},__static__:!1,__statics__:{},__properties__:{},__methods__:{},__method_init__:nx.noop,__static_init__:nx.noop},n={base:function(){var t,e=this.base.caller;if(e&&(t=e.__base__))return t.apply(this,arguments)},parent:function(t){var e="undefined"==typeof this.__id__,n=nx.slice(arguments,1),_=e?this.__base__:this.__base__.prototype,s=this["@"+t].__type__,i=["get","set"][n.length];switch(s){case"method":return _[t].apply(this,n);case"property":return _["@"+t][i].apply(this,n)}}};e.__methods__=t.prototype=nx.mix({constructor:t,init:nx.noop,destroy:nx.noop,toString:function(){return"[Class@"+this.__type__+"]"}},n),nx.mix(e.__statics__,n),nx.mix(t,e),nx.mix(t,e.__statics__),nx.RootClass=t}(),function(){var t="@",e="value",n=",";nx.defineProperty=function(n,_,s,i){var o,r,a,c,f,h=t+_,p="object"==typeof s,u=s&&p?s:{value:s};return e in u?(c=u.value,f="_"+_,o=function(){return f in this?this[f]:"function"==typeof c?c.call(this):c},r=function(t){this[f]=t}):(o=s.get||n[h]&&n[h].get||nx.noop,r=s.set||n[h]&&n[h].set||nx.noop),h in n&&(o.__base__=n[h].get,r.__base__=n[h].set),a=n[h]={__meta__:s,__name__:_,__type__:"property",__static__:!!i,get:o,set:r,configurable:!0},Object.defineProperty(n,_,a),a},nx.defineMethod=function(e,n,_,s){var i=t+n;return e[n]=_,e[i]={__meta__:_,__name__:n,__type__:"method",__static__:!!s}},nx.defineBombMethod=function(t,e,_,s){var i=e.split(n);i.forEach(function(e,n){nx.defineMethod(t,e,_.call(t,e,n),s)})},nx.defineMembers=function(t,e,_,s){nx.forIn(_,function(_,i){_.indexOf(n)>-1?nx.defineBombMethod(e,_,i,s):nx["define"+t](e,_,i,s)})}}(),function(){function t(t,e){this.type=t,this.meta=e,this.base=e["extends"]||nx.RootClass,this.$base=this.base.prototype,this.__class_meta__={},this.__class__=null,this.__constructor__=null}var e=1,n=0,_="nx.Anonymous";t.prototype={constructor:t,initMetaProcessor:function(){var t=this.meta,n=t.methods||{},_=t.statics||{};nx.mix(this.__class_meta__,{__type__:this.type,__meta__:t,__base__:this.base,__class_id__:e++,__method_init__:n.init||this.base.__method_init__,__static_init__:_.init||this.base.__static_init__,__static__:!t.methods&&!!t.statics})},createClassProcessor:function(){var t=this;this.__class__=function(){this.__id__=n++,t.__constructor__.apply(this,arguments),t.registerDebug(this)}},inheritProcessor:function(){var t=this.__class_meta__;this.inheritedClass(t),this.defineMethods(t,!0),this.defineMethods(t,!1),this.defineProperties(t)},inheritedClass:function(t){var e=function(){},n=this.__class__;e.prototype=this.$base,n.prototype=new e,n.prototype.$base=this.$base,n.prototype.constructor=n},defineMethods:function(t,e){var n=e?"statics":"methods",_="__"+n+"__",s=e?this.__class__:this.__class__.prototype,i=e?this.base:this.base.prototype,o=i[_]||{};nx.forIn(this.meta[n],function(t,e){o[t]&&"function"==typeof e&&(e.__base__=o[t])}),s[_]=nx.mix(t[_],o,this.meta[n]),nx.defineMembers("Method",s,s[_],e)},defineProperties:function(t){var e=t.__static__,n=e?this.__class__:this.__class__.prototype;n.__properties__=nx.mix(t.__properties__,this.meta.properties),nx.defineMembers("Property",n,n.__properties__,e)},methodsConstructorProcessor:function(){var t=this.__class_meta__;this.__constructor__=function(){t.__method_init__.apply(this,arguments)}},staticsConstructorProcessor:function(){var t=this.__class_meta__;t.__static_init__.call(this.__class__)},registerProcessor:function(){var t=this.__class__,e=this.type,n=this.__class_meta__;nx.mix(t.prototype,n),nx.mix(t,n),e.indexOf(_)===-1&&nx.set(nx.GLOBAL,e,t)},registerDebug:function(t){nx.DEBUG&&(nx.set(nx,"__instances__."+(n-1),t),nx.set(nx,"__instances__.length",n))}},nx.declare=function(n,s){var i="string"==typeof n?n:_+e,o=s||n,r=new t(i,o);return r.initMetaProcessor(),r.createClassProcessor(),r.inheritProcessor(),r.methodsConstructorProcessor(),r.staticsConstructorProcessor(),r.registerProcessor(),r.__class__}}()}).call(this);