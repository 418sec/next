(function(){var s,n,f,t,e,i,_,o,r="object"==typeof global&&global&&global.Object===Object&&global,c="object"==typeof self&&self&&self.Object===Object&&self,a=r||c||Function("return this")(),h="object"==typeof exports&&exports&&!exports.nodeType&&exports,p=h&&"object"==typeof module&&module&&!module.nodeType&&module,l=a.nx=a.nx||{BREAKER:{},VERSION:"2.5.0",DEBUG:!1,GLOBAL:a};function u(){}function d(t,e){this.type=t,this.meta=e,this.base=e.extends||l.RootClass,this.$base=this.base.prototype,this.__class_meta__={},this.__class__=null,this.__constructor__=null}"function"==typeof define&&"object"==typeof define.amd&&define.amd?(a.nx=l,define(function(){return l})):p?((p.exports=l).nx=l,h.nx=l):a.nx=l,s=Array.prototype,n=Object.prototype.hasOwnProperty,f=/\[(\w+)\]/g,l.noop=function(){},l.error=function(t){throw new Error(t)},l.try=function(t){try{t()}catch(t){}},l.forEach=function(t,e,_){for(var s=t.length,i=0;i<s&&e.call(_,t[i],i,t)!==l.BREAKER;i++);},l.forIn=function(t,e,_){var s;for(s in t)if(n.call(t,s)&&e.call(_,s,t[s],t)===l.BREAKER)break},l.each=function(s,i,o){function t(t,e,_){return i.call(o,t,e,s,_)===l.BREAKER}var e,_;if(s)if("number"==typeof(_=s.length))for(e=0;e<_&&!t(e,s[e],!0);e++);else for(e in s)if(n.call(s,e)&&t(e,s[e],!1))break},l.map=function(t,e,_){var s=[];return l.each(t,function(){var t=e.apply(_,arguments);if(t===l.BREAKER)return l.BREAKER;s.push(t)}),s},l.mix=function(t){for(var _=t||{},e=arguments,s=1,i=e.length;s<i;s++)l.forIn(e[s],function(t,e){_[t]=e});return _},l.slice=function(t,e,_){return s.slice.call(t,e,_)},l.set=function(t,e,_){for(var s=e.replace(f,"$1").split("."),i=t||l.GLOBAL,o=s.length-1,n=s[o],r=0;r<o;r++)var c=s[r],a=isNaN(+s[r+1])?{}:[],i=i[c]=i[c]||a;return i[n]=_,t},l.get=function(t,e,_){if(!e)return t;var s=e.replace(f,".$1").split("."),i=t||l.GLOBAL;return s.forEach(function(t){i=i&&i[t]}),void 0!==_&&null==i?_:i},l.path=function(t,e,_){return null==_?this.get(t,e):this.set(t,e,_)},t={__class_id__:0,__type__:"nx.RootClass",__base__:Object,__meta__:{},__static__:!1,__statics__:{},__properties__:{},__methods__:{},__method_init__:l.noop,__static_init__:l.noop},e={base:function(){var t,e=this.base.caller;if(e&&(t=e.__base__))return t.apply(this,arguments)},parent:function(t){var e=void 0===this.__id__,_=l.slice(arguments,1),s=e?this.__base__:this.__base__.prototype,i=this["@"+t].__type__,o=["get","set"][_.length];switch(i){case"method":return s[t].apply(this,_);case"property":return s["@"+t][o].apply(this,_)}}},t.__methods__=u.prototype=l.mix({constructor:u,init:l.noop,destroy:l.noop,toString:function(){return"[Class@"+this.__type__+"]"}},e),l.mix(t.__statics__,e),l.mix(u,t),l.mix(u,t.__statics__),l.RootClass=u,l.defineProperty=function(t,e,_,s){var i,o,n,r,c="@"+e,a=_&&"object"==typeof _?_:{value:_},f="value"in a?(n=a.value,r="_"+e,i=function(){return r in this?this[r]:"function"==typeof n?n.call(this):n},function(t){this[r]=t}):(i=_.get||t[c]&&t[c].get||l.noop,_.set||t[c]&&t[c].set||l.noop);return c in t&&(i.__base__=t[c].get,f.__base__=t[c].set),o=t[c]={__meta__:_,__name__:e,__type__:"property",__static__:!!s,get:i,set:f,configurable:!0},Object.defineProperty(t,e,o),o},l.defineMethod=function(t,e,_,s){var i="@"+e;return t[e]=_,t[i]={__meta__:_,__name__:e,__type__:"method",__static__:!!s}},l.defineBombMethod=function(_,t,s,i){t.split(",").forEach(function(t,e){l.defineMethod(_,t,s.call(_,t,e),i)})},l.defineMembers=function(_,s,t,i){l.forIn(t,function(t,e){-1<t.indexOf(",")?l.defineBombMethod(s,t,e,i):l["define"+_](s,t,e,i)})},i=1,_=0,o="nx.Anonymous",d.prototype={constructor:d,initMetaProcessor:function(){var t=this.meta,e=t.methods||{},_=t.statics||{};l.mix(this.__class_meta__,{__type__:this.type,__meta__:t,__base__:this.base,__class_id__:i++,__method_init__:e.init||this.base.__method_init__,__static_init__:_.init||this.base.__static_init__,__static__:!t.methods&&!!t.statics})},createClassProcessor:function(){var t=this;this.__class__=function(){this.__id__=_++,t.__constructor__.apply(this,arguments),t.registerDebug(this)}},inheritProcessor:function(){var t=this.__class_meta__;this.inheritedClass(t),this.defineMethods(t,!0),this.defineMethods(t,!1),this.defineProperties(t)},inheritedClass:function(t){function e(){}var _=this.__class__;e.prototype=this.$base,_.prototype=new e,_.prototype.$base=this.$base,_.prototype.constructor=_},defineMethods:function(t,e){var _=e?"statics":"methods",s="__"+_+"__",i=e?this.__class__:this.__class__.prototype,o=(e?this.base:this.base.prototype)[s]||{};l.forIn(this.meta[_],function(t,e){o[t]&&"function"==typeof e&&(e.__base__=o[t])}),i[s]=l.mix(t[s],o,this.meta[_]),l.defineMembers("Method",i,i[s],e)},defineProperties:function(t){var e=t.__static__,_=e?this.__class__:this.__class__.prototype;_.__properties__=l.mix(t.__properties__,this.meta.properties),l.defineMembers("Property",_,_.__properties__,e)},methodsConstructorProcessor:function(){var t=this.__class_meta__;this.__constructor__=function(){t.__method_init__.apply(this,arguments)}},staticsConstructorProcessor:function(){this.__class_meta__.__static_init__.call(this.__class__)},registerProcessor:function(){var t=this.__class__,e=this.type,_=this.__class_meta__;l.mix(t.prototype,_),l.mix(t,_),-1===e.indexOf(o)&&l.set(l.GLOBAL,e,t)},registerDebug:function(t){l.DEBUG&&(l.set(l,"__instances__."+(_-1),t),l.set(l,"__instances__.length",_))}},l.declare=function(t,e){var _=new d("string"==typeof t?t:o+i,e||t);return _.initMetaProcessor(),_.createClassProcessor(),_.inheritProcessor(),_.methodsConstructorProcessor(),_.staticsConstructorProcessor(),_.registerProcessor(),_.__class__}}).call(this);