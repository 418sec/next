nx={BREAKER:{},VERSION:"1.3.0",DEBUG:!1,GLOBAL:function(){return this}.call(null)},function(t,e){var n,_=/[-_]+(.)?/g,i=[],s=(i.slice,/::/g),r=/([A-Z]+)([A-Z][a-z])/g,o=/([a-z\d])([A-Z])/g,c=/_/g,a="$1_$2";t.noop=function(){},t.error=function(t){throw new Error(t)},t.each=function(e,n,_){var i,s,r=function(e,i){return n.call(_,e,i)===t.BREAKER};if(e){if(e.each)return e.each(n,_);if(s=e.length,t.isArrayLike(e))for(i=0;i<s&&!r(i,e[i]);i++);else for(i in e)if(e.hasOwnProperty(i)&&r(i,e[i]))break}},t.camelize=function(t){return(t||"").replace(_,function(t,e){return e?e.toUpperCase():""})},t.dasherize=function(t){return t.replace(s,"/").replace(r,a).replace(o,a).replace(c,"-").toLowerCase()},t.trim=function(t){return null==t?"":t.trim()},t.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.mix=function(e){var n,_,i=e||{},s=arguments;for(n=1,_=s.length;n<_;n++)t.each(s[n],function(t,e){i[t]=e});return i},t.isUndefined=function(t){return t===n},t.isNull=function(t){return null===t},t.isNil=function(t){return null==t},t.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},t.isBoolean=function(t){return"boolean"==typeof t},t.isString=function(t){return"string"==typeof t},t.isArray=Array.isArray||function(t){return t instanceof Array},t.isArrayLike=function(t){return"number"==typeof t.length},t.isFunction=function(t){return"function"==typeof t},t.isObject=function(e){return"object"==t.type(e)},t.isDocument=function(t){return null!=t&&9==t.nodeType},t.isWindow=function(t){return null!=t&&t==t.global},t.isPlainObject=function(e){return t.isObject(e)&&!t.isWindow(e)&&Object.getPrototypeOf(e)==Object.prototype},t.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},t.isServer=function(){return"undefined"!=typeof module&&module.exports},t.has=function(t,e){return!!t&&(t.has?t.has(e):e in t)},t.get=function(t,e){if(t)return t.get?t.get(e):t[e]},t.set=function(e,n,_){if(e)return e.set&&e!==t?e.set(n,_):e[n]=_},t.path=function(e,_,i){var s,r=_.split("."),o=e||t.global;return n===i?t.each(r,function(e,n){o=t.get(o,n)}):(s=r.pop(),r.forEach(function(t){o=o[t]=o[t]||{}}),t.set(o,s,i)),o}}(nx,nx.GLOBAL),"undefined"!=typeof module&&module.exports&&(module.exports=nx),function(t,e){t.event={init:function(){this.__listeners__={}},destroy:function(){this.__listeners__={}},on:function(t,e,n){var _=this.__listeners__,i=_[t]=_[t]||[];i.push({owner:this,handler:e,context:n})},off:function(e,n,_){var i=this.__listeners__[e];n?t.each(i,function(t,e){e.handler!==n||_&&e.context!==_||i.splice(t,1)}):i.length=0},fire:function(e,n){var _=this.__listeners__[e];_&&t.each(_,function(e,_){if(_&&_.handler&&_.handler.call(_.context||_.owner,_.owner,n)===!1)return t.BREAKER})}}}(nx,nx.GLOBAL),function(t,e){function n(){}var _=/__Class__\.(.*) \(/,i=/at (.*) \(/,s={__classId__:0,__type__:"nx.RootClass",__base__:Object,__module__:"root",__meta__:{},__init__:t.noop,__static_init__:t.noop,__mixins__:[],__statics__:{},__properties__:[],__methods__:{}},r=s.__methods__=n.prototype={constructor:n,base:function(){var e,n,s,r;try{if(n=this.base.caller.__base__)return n.apply(this,arguments)}catch(o){return r=o.stack.split("\n")[2],e=(r.match(_)||r.match(i))[1],n=this.$base[e],s=t.toArray(arguments),n.apply(this,s)}},setMeta:function(t,e){this["__"+t+"__"]=e},getMeta:function(t){return this["__"+t+"__"]},is:function(e){var n=this.__type__;if(n===e)return!0;var _=this.__base__;return!!_&&t.is(_.prototype,e)},type:function(){return this.__type__},has:function(t){return t in this},get:function(t){var e=this.memberType(t);switch(e){case"method":case"property":case"undefined":return this[t];case"static":return this.constructor[t]}},set:function(t,e){this[t]=e},member:function(t){return this["@"+t]},memberMeta:function(t){var e=this.member(t);return e&&e.__meta__},memberType:function(t){var e=this.member(t);return e&&e.__type__||"undefined"},init:t.noop,destroy:t.noop,toString:function(){return"[Class@"+this.__type__+"]"}};t.mix(n,s),t.mix(r,s),t.mix(r,t.event),t.RootClass=n}(nx,nx.GLOBAL),function(t,e){t.defineProperty=function(e,n,_){var i,s,r,o,c,a,u="@"+n,h=t.isObject(_)?_:{value:_};return"value"in h?(c=h.value,a="_"+n,i=t.type(c),s=function(){return a in this?this[a]:t.isFunction(i)?c.call(this):c},r=function(t){this[a]=t}):(s=_.get||e[u]&&e[u].get||t.noop,r=_.set||e[u]&&e[u].set||t.noop),u in e&&(s.__base__=e[u].get,r.__base__=e[u].set),o=e[u]={__meta__:_,__name__:n,__type__:"property",get:s,set:r,configurable:!0},Object.defineProperty(e,n,o),o},t.defineMethod=function(t,e,n){var _="@"+e,i=t[_]={__meta__:n,__name__:e,__type__:"method"};return t[e]=n,i},t.defineStatic=function(t,e,n){var _={__meta__:n,__name__:e,__type__:"static"};return t[e]=n,_}}(nx,nx.GLOBAL),function(t,e){function n(e,n){this.type=e,this.meta=n,this.base=n["extends"]||t.RootClass,this.module=t.camelCase(n.module),this.$base=this.base.prototype,this.__classMeta__={},this.__Class__=null,this.__constructor__=null}var _=1,i=0,s={},r="nx.Anonymous",o={distinct:function(t){var e,n=[],_={};return t.forEach(function(t){e=t.__type__,_[e]||(_[e]=!0,n.push(t))}),n||t},union:function(){var e=[];return t.each(arguments,function(t,n){e=e.concat(n||[])}),o.distinct(e)}};n.prototype={constructor:n,initMetaProcessor:function(){var e=this.meta.methods||{},n=this.meta.statics||{};t.mix(this.__classMeta__,{__type__:this.type,__meta__:this.meta,__base__:this.base,__module__:this.module,__classId__:_++,__init__:e.init||this.base.__init__,__static_init__:n.init||this.base.__static_init__,__pure_static__:!this.meta.methods&&!!this.meta.statics})},createClassProcessor:function(){var e=this;this.__Class__=function(){this.__id__=++i,this.__listeners__={},e.__constructor__.apply(this,t.toArray(arguments)),t.DEBUG&&(s[i]=this)}},mixinItemsProcessor:function(){var e=this.base,n=this.meta.mixins,_=this.__classMeta__,i=[],s={},r={},c={},a=[],u={},h={},f={};t.each(n,function(e,n){a=n.__mixins__,u=n.__methods__,h=n.__properties__,f=n.__statics__,i=i.concat(a),t.mix(s,u),t.mix(r,h),t.mix(c,f)}),_.__mixins__=o.union(i,e.__mixins__,n),_.__methods__=t.mix(s,e.__methods__),_.__properties__=t.mix(r,e.__properties__),_.__statics__=t.mix(c,e.__statics__)},inheritProcessor:function(){var t=this.__classMeta__;this.copyAtProps(t),this.defineMethods(t),this.defineProperties(t),this.defineStatics(t)},copyBaseProto:function(){this.__Class__.prototype.$base=this.$base},copyAtProps:function(e){var n=this.$base;t.each(n,function(t,e){t.indexOf("@")>-1&&(this.__Class__.prototype[t]=e)},this)},defineMethods:function(e){var n=this.meta.methods||{},_=Object.keys(n),i=e.__methods__,s=this.__Class__.prototype;t.each(i,function(e,i){t.defineMethod(s,e,i),_.indexOf(e)>-1&&(t.defineMethod(s,e,n[e]),s[e].__base__=i)}),t.each(n,function(e,n){s[e]||t.defineMethod(s,e,n)}),e.__methods__=t.mix(i,n)},defineProperties:function(e){var n=this.meta.properties||{},_=e.__properties__,i=e.__pure_static__?this.__Class__:this.__Class__.prototype;t.each(n,function(e,n){t.defineProperty(i,e,n)}),e.__properties__=t.mix(_,n)},defineStatics:function(e){var n=t.mix(e.__statics__,this.meta.statics);t.each(n,function(e,n){t.defineStatic(this.__Class__,e,n)},this)},methodsConstructorProcessor:function(){var e=this.__classMeta__,n=e.__mixins__;this.__constructor__=function(){t.each(n,function(t,e){e.__init__.call(this)},this),e.__init__.apply(this,t.toArray(arguments))}},staticsConstructorProcessor:function(){var t=this.__classMeta__;t.__static_init__.call(this.__Class__)},registerNsProcessor:function(){var n=this.type,_=this.__Class__,i=this.__classMeta__;t.mix(_.prototype,i,{constructor:this.__Class__}),t.mix(_,i),n!==r&&t.path(e,n,_)}},t.declare=function(t,e){var _="string"==typeof t?t:r,i=e||t,s=new n(_,i);return s.initMetaProcessor(),s.createClassProcessor(),s.copyBaseProto(),s.mixinItemsProcessor(),s.inheritProcessor(),s.methodsConstructorProcessor(),s.staticsConstructorProcessor(),s.registerNsProcessor(),s.__Class__},t.DEBUG&&(t.$=function(t){return s[t]})}(nx,nx.GLOBAL);