nx={BREAKER:{},VERSION:"1.3.0",DEBUG:!1,GLOBAL:function(){return this}.call(null)},function(t,_){t.noop=function(){},t.error=function(t){throw new Error(t)},t.each=function(_,e,s){var i,n,o=function(_,i){return e.call(s,_,i)===t.BREAKER};if(_){if(_.each)return _.each(e,s);if(n=_.length,"number"==typeof n)for(i=0;i<n&&!o(i,_[i]);i++);else for(i in _)if(_.hasOwnProperty(i)&&o(i,_[i]))break}},t.mix=function(_){var e,s,i=_||{},n=arguments;for(e=1,s=n.length;e<s;e++)t.each(n[e],function(t,_){i[t]=_});return i},t.get=function(t,_){if(t)return t.get?t.get(_):t[_]},t.set=function(_,e,s){if(_)return _.set&&_!==t?_.set(e,s):_[e]=s},t.path=function(_,e,s){var i,n=e.split("."),o=_||t.global;return void 0===s?t.each(n,function(_,e){o=t.get(o,e)}):(i=n.pop(),n.forEach(function(t){o=o[t]=o[t]||{}}),t.set(o,i,s)),o}}(nx,nx.GLOBAL),"undefined"!=typeof module&&module.exports&&(module.exports=nx),function(t,_){t.event={init:function(){this.__listeners__={}},destroy:function(){this.__listeners__={}},on:function(t,_,e){var s=this.__listeners__,i=s[t]=s[t]||[];i.push({owner:this,handler:_,context:e})},off:function(_,e,s){var i=this.__listeners__[_];e?t.each(i,function(t,_){_.handler!==e||s&&_.context!==s||i.splice(t,1)}):i.length=0},fire:function(_,e){var s=this.__listeners__[_];s&&t.each(s,function(_,s){if(s&&s.handler&&s.handler.call(s.context||s.owner,s.owner,e)===!1)return t.BREAKER})}}}(nx,nx.GLOBAL),function(t,_){function e(){}var s=/__Class__\.(.*) \(/,i=/at (.*) \(/,n={__classId__:0,__type__:"nx.RootClass",__base__:Object,__meta__:{},__init__:t.noop,__static_init__:t.noop,__mixins__:[],__statics__:{},__properties__:[],__methods__:{}},o=n.__methods__=e.prototype={constructor:e,init:t.noop,destroy:t.noop,base:function(){var t,_,e,n;try{if(_=this.base.caller.__base__)return _.apply(this,arguments)}catch(o){return n=o.stack.split("\n")[2],t=(n.match(s)||n.match(i))[1],_=this.$base[t],e=[].slice.call(arguments,0),_.apply(this,e)}},toString:function(){return"[Class@"+this.__type__+"]"}};t.mix(e,n),t.mix(o,n,t.event),t.RootClass=e}(nx,nx.GLOBAL),function(t,_){t.defineProperty=function(_,e,s){var i,n,o,r,a,c="@"+e,h="object"==typeof s?s:{value:s};return"value"in h?(r=h.value,a="_"+e,i=function(){return a in this?this[a]:"function"==typeof r?r.call(this):r},n=function(t){this[a]=t}):(i=s.get||_[c]&&_[c].get||t.noop,n=s.set||_[c]&&_[c].set||t.noop),c in _&&(i.__base__=_[c].get,n.__base__=_[c].set),o=_[c]={__meta__:s,__name__:e,__type__:"property",get:i,set:n,configurable:!0},Object.defineProperty(_,e,o),o},t.defineMethod=function(t,_,e){var s="@"+_,i=t[s]={__meta__:e,__name__:_,__type__:"method"};return t[_]=e,i},t.defineStatic=function(t,_,e){var s="@"+_,i=t[s]={__meta__:e,__name__:_,__type__:"static"};return t[_]=e,i},t.defineMembers=function(_,e,s){var i="define"+_.charAt(0).toUpperCase()+_.slice(1);t.each(s,function(_,s){t[i](e,_,s)})}}(nx,nx.GLOBAL),function(t,_){function e(){var t={},_=c.apply(r,arguments);return _.filter(function(_){return!t[_.__type__]&&(t[_.__type__]=!0)})}function s(_,e){this.type=_,this.meta=e,this.base=e["extends"]||t.RootClass,this.$base=this.base.prototype,this.__classMeta__={},this.__Class__=null,this.__constructor__=null}var i=1,n=0,o="nx.Anonymous",r=Array.prototype,a=r.slice,c=r.concat;s.prototype={constructor:s,initMetaProcessor:function(){var _=this.meta.methods||{},e=this.meta.statics||{};t.mix(this.__classMeta__,{__type__:this.type,__meta__:this.meta,__base__:this.base,__classId__:i++,__init__:_.init||t.noop,__static_init__:e.init||t.noop,__static_pure__:!this.meta.methods&&!!this.meta.statics})},createClassProcessor:function(){var t=this;this.__Class__=function(){var _=a.call(arguments);this.__id__=++n,this.__listeners__={},t.__constructor__.apply(this,_)}},mixinItemsProcessor:function(){var _=this.base,s=this.meta.mixins||[],i=this.__classMeta__,n=[],o={},r={},a={},c=[],h={},u={},f={};t.each(s,function(_,e){c=e.__mixins__,h=e.__methods__,u=e.__properties__,f=e.__statics__,n=n.concat(c),t.mix(o,h),t.mix(r,u),t.mix(a,f)}),i.__mixins__=e(n,_.__mixins__,s),i.__methods__=t.mix(o,_.__methods__),i.__properties__=t.mix(r,_.__properties__),i.__statics__=t.mix(a,_.__statics__)},inheritProcessor:function(){var t=this.__classMeta__;this.copyAtProps(t),this.defineMethods(t),this.defineProperties(t),this.defineStatics(t)},copyBaseProto:function(){this.__Class__.prototype.$base=this.$base},copyAtProps:function(_){var e=this.$base;t.each(e,function(t,_){t.indexOf("@")>-1&&(this.__Class__.prototype[t]=_)},this)},defineMethods:function(_){var e=this.meta.methods||{},s=Object.keys(e),i=_.__methods__,n=this.__Class__.prototype;t.each(i,function(_,i){t.defineMethod(n,_,i),s.indexOf(_)>-1&&(t.defineMethod(n,_,e[_]),n[_].__base__=i)}),t.each(e,function(_,e){n[_]||t.defineMethod(n,_,e)}),_.__methods__=t.mix(i,e)},defineProperties:function(_){var e=this.meta.properties||{},s=_.__properties__,i=_.__static_pure__?this.__Class__:this.__Class__.prototype,n=t.mix(s,e);t.defineMembers("property",i,n),_.__properties__=n},defineStatics:function(_){var e=t.mix(_.__statics__,this.meta.statics);t.defineMembers("static",this.__Class__,e)},methodsConstructorProcessor:function(){var _=this.__classMeta__,e=_.__mixins__;this.__constructor__=function(){var s=a.call(arguments);t.each(e,function(t,_){_.__init__.call(this)},this),_.__init__.apply(this,s)}},staticsConstructorProcessor:function(){var t=this.__classMeta__;t.__static_init__.call(this.__Class__)},registerNsProcessor:function(){var e=this.__Class__,s=this.type,n=this.__classMeta__;t.mix(e.prototype,n,{constructor:e}),t.mix(e,n),s!==o+i&&t.path(_,s,e)}},t.declare=function(t,_){var e="string"==typeof t?t:o+i,n=_||t,r=new s(e,n);return r.initMetaProcessor(),r.createClassProcessor(),r.copyBaseProto(),r.mixinItemsProcessor(),r.inheritProcessor(),r.methodsConstructorProcessor(),r.staticsConstructorProcessor(),r.registerNsProcessor(),r.__Class__}}(nx,nx.GLOBAL);