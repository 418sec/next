nx={BREAKER:{},VERSION:"1.5.1",DEBUG:!1,GLOBAL:function(){return this}.call(null)},function(_,t){var e=".",i="number",s=Array.prototype;t.nx=t.nx||_,_.noop=function(){},_.error=function(_){throw new Error(_)},_.forEach=function(t,e,s){var n,o,r=t.length;if(typeof r===i)for(n=0;n<r&&(o=e.call(s,t[n],n,t),o!==_.BREAKER);n++);},_.forIn=function(t,e,i){var s,n;for(s in t)if(t.hasOwnProperty(s)&&(n=e.call(i,s,t[s],t),n===_.BREAKER))break},_.each=function(t,e,s){var n,o,r=function(i,n){return e.call(s,i,n,t)===_.BREAKER};if(t){if(t.each)return t.each(e,s);if(o=t.length,typeof o===i)for(n=0;n<o&&!r(n,t[n]);n++);else for(n in t)if(t.hasOwnProperty(n)&&r(n,t[n]))break}},_.map=function(_,t,e){for(var s=typeof _.length===i?null:Object.keys(_),n=(s||_).length,o=Array(n),r=0;r<n;r++){var a=s?s[r]:r;o[r]=t.call(e,a,_[a],_)}return o},_.mix=function(t){var e,i,s=t||{},n=arguments;for(e=1,i=n.length;e<i;e++)_.forIn(n[e],function(_,t){s[_]=t});return s},_.slice=function(_,t,e){return s.slice.call(_,t,e)},_.path=function(t,i,s){var n,o=i.split(e),r=t||_.global;return void 0===s?o.forEach(function(_){r=r&&r[_]}):(n=o.pop(),o.forEach(function(_){r=r[_]=r[_]||{}}),r[n]=s),r}}(nx,nx.GLOBAL),"undefined"!=typeof module&&module.exports?module.exports=nx:"function"==typeof define&&define.amd?define([],function(){return nx}):window.nx=nx,function(_,t){var e=function(){},i={__classId__:0,__type__:"nx.RootClass",__module__:"root",__base__:Object,__meta__:{},__init__:_.noop,__static_init__:_.noop,__mixins__:[],__statics__:{},__properties__:[],__methods__:{}};i.__methods__=e.prototype={constructor:e,init:_.noop,destroy:_.noop,base:function(){var _,t=this.base.caller;if(t&&(_=t.__base__))return _.apply(this,arguments)},toString:function(){return"[Class@"+this.__type__+"]"}},_.mix(e,i),_.RootClass=e}(nx,nx.GLOBAL),function(_,t){_.defineProperty=function(t,e,i,s){var n,o,r,a,c,f="@"+e,h=i&&"object"==typeof i?i:{value:i};return"value"in h?(a=h.value,c="_"+e,n=function(){return c in this?this[c]:"function"==typeof a?a.call(this):a},o=function(_){this[c]=_}):(n=i.get||t[f]&&t[f].get||_.noop,o=i.set||t[f]&&t[f].set||_.noop),f in t&&(n.__base__=t[f].get,o.__base__=t[f].set),r=t[f]={__meta__:i,__name__:e,__type__:"property",get:n,set:o,configurable:!0},Object.defineProperty(t,e,r),r},_.defineMethod=function(_,t,e,i){var s="@"+t;return i.forEach(function(_){var t=_.prototype;s in t&&(e.__base__=t[s].__meta__)}),s in _&&(e.__base__=_[s].__meta__),_[t]=e,_[s]={__meta__:e,__name__:t,__type__:"method"}},_.defineBombMethod=function(t,e,i,s){var n=e.split(",");n.forEach(function(e){_.defineMethod(t,e,i.call(t,e),s)})},_.defineStatic=function(_,t,e,i){var s="@"+t;return i.forEach(function(_){s in _&&(e.__base__=_[s].__meta__)}),s in _&&(e.__base__=_[s].__meta__),_[t]=e,_[s]={__meta__:e,__name__:t,__type__:"static"}},_.defineMembers=function(t,e,i,s){var n="define"+t.charAt(0).toUpperCase()+t.slice(1);_.each(i,function(t,i){t.indexOf(",")>-1?_.defineBombMethod(e,t,i,s):_[n](e,t,i,s)})}}(nx,nx.GLOBAL),function(_,t){function e(){var _={},t=c.apply(r,arguments);return t.filter(function(t){return!_[t.__type__]&&(_[t.__type__]=!0)})}function i(t,e){this.type=t,this.meta=e,this.base=e["extends"]||_.RootClass,this.module=e.module,this.$base=this.base.prototype,this.__classMeta__={},this.__Class__=null,this.__constructor__=null}var s=1,n=0,o="nx.Anonymous",r=Array.prototype,a=r.slice,c=r.concat;i.prototype={constructor:i,initMetaProcessor:function(){var t=this.meta.methods||{},e=this.meta.statics||{};_.mix(this.__classMeta__,{__type__:this.type,__meta__:this.meta,__base__:this.base,__module__:this.module,__classId__:s++,__init__:t.init||this.base.__init__,__static_init__:e.init||this.base.__static_init__,__static_pure__:!this.meta.methods&&!!this.meta.statics})},createClassProcessor:function(){var _=this;this.__Class__=function(){this.__id__=++n,_.__constructor__.apply(this,arguments)}},mixinItemsProcessor:function(){var t=this.base,i=this.meta.mixins||[],s=this.__classMeta__,n=[],o={},r={},a={},c=[],f={},h={},u={};_.each(i,function(t,e){c=e.__mixins__,f=e.__methods__,h=e.__properties__,u=e.__statics__,n=n.concat(c),_.mix(o,f),_.mix(r,h),_.mix(a,u)}),s.__mixins__=e(n,t.__mixins__,i),s.__methods__=_.mix(o,t.__methods__),s.__properties__=_.mix(r,t.__properties__),s.__statics__=_.mix(a,t.__statics__)},inheritProcessor:function(){var _=this.__classMeta__;this.copyAtProps(_),this.defineMethods(_),this.defineProperties(_),this.defineStatics(_)},copyBaseProto:function(){this.__Class__.prototype.$base=this.$base},copyAtProps:function(t){var e=this.$base;_.each(e,function(_,t){_.indexOf("@")>-1&&(this.__Class__.prototype[_]=t)},this)},defineMethods:function(t){var e=_.mix(t.__methods__,this.meta.methods);_.defineMembers("method",this.__Class__.prototype,e,t.__mixins__)},defineProperties:function(t){var e=t.__static_pure__?this.__Class__:this.__Class__.prototype,i=_.mix(t.__properties__,this.meta.properties);_.defineMembers("property",e,i,t.__mixins__)},defineStatics:function(t){var e=_.mix(t.__statics__,this.meta.statics);_.defineMembers("static",this.__Class__,e,t.__mixins__)},methodsConstructorProcessor:function(){var t=this.__classMeta__,e=t.__mixins__;this.__constructor__=function(){var i=a.call(arguments);_.each(e,function(_,t){t.__init__.call(this)},this),t.__init__.apply(this,i)}},staticsConstructorProcessor:function(){var _=this.__classMeta__;_.__static_init__.call(this.__Class__)},registerNsProcessor:function(){var e=this.__Class__,i=this.type,n=this.__classMeta__;_.mix(e.prototype,n,{constructor:e}),_.mix(e,n),i!==o+s&&_.path(t,i,e)}},_.declare=function(_,t){var e="string"==typeof _?_:o+s,n=t||_,r=new i(e,n);return r.initMetaProcessor(),r.createClassProcessor(),r.copyBaseProto(),r.mixinItemsProcessor(),r.inheritProcessor(),r.methodsConstructorProcessor(),r.staticsConstructorProcessor(),r.registerNsProcessor(),r.__Class__}}(nx,nx.GLOBAL);