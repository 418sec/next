nx={BREAKER:{},VERSION:"1.5.2",DEBUG:!1,GLOBAL:function(){return this}.call(null)},function(t,_){var e=".",i="number",s=Array.prototype;_.nx=_.nx||t,t.noop=function(){},t.error=function(t){throw new Error(t)},t.forEach=function(_,e,s){var n,o,r=_.length;if(typeof r===i)for(n=0;n<r&&(o=e.call(s,_[n],n,_),o!==t.BREAKER);n++);},t.forIn=function(_,e,i){var s,n;for(s in _)if(_.hasOwnProperty(s)&&(n=e.call(i,s,_[s],_),n===t.BREAKER))break},t.each=function(_,e,s){var n,o,r=function(i,n){return e.call(s,i,n,_)===t.BREAKER};if(_){if(_.each)return _.each(e,s);if(o=_.length,typeof o===i)for(n=0;n<o&&!r(n,_[n]);n++);else for(n in _)if(_.hasOwnProperty(n)&&r(n,_[n]))break}},t.map=function(t,_,e){for(var s=typeof t.length===i?null:Object.keys(t),n=(s||t).length,o=Array(n),r=0;r<n;r++){var a=s?s[r]:r;o[r]=_.call(e,a,t[a],t)}return o},t.mix=function(_){var e,i,s=_||{},n=arguments;for(e=1,i=n.length;e<i;e++)t.forIn(n[e],function(t,_){s[t]=_});return s},t.slice=function(t,_,e){return s.slice.call(t,_,e)},t.path=function(_,i,s){var n,o=i.split(e),r=_||t.global;return void 0===s?o.forEach(function(t){r=r&&r[t]}):(n=o.pop(),o.forEach(function(t){r=r[t]=r[t]||{}}),r[n]=s),r}}(nx,nx.GLOBAL),"undefined"!=typeof module&&module.exports?module.exports=nx:"function"==typeof define&&define.amd?define([],function(){return nx}):window.nx=nx,function(t,_){var e=function(){},i={__classId__:0,__type__:"nx.RootClass",__module__:"root",__base__:Object,__meta__:{},__init__:t.noop,__static_init__:t.noop,__mixins__:[],__statics__:{},__properties__:[],__methods__:{}};i.__methods__=e.prototype={constructor:e,init:t.noop,destroy:t.noop,base:function(){var t,_=this.base.caller;if(_&&(t=_.__base__))return t.apply(this,arguments)},parent:function(_){var e=t.slice(arguments,1);this.$base[_].apply(this.$base,e)},toString:function(){return"[Class@"+this.__type__+"]"}},t.mix(e,i),t.RootClass=e}(nx,nx.GLOBAL),function(t,_){t.defineProperty=function(_,e,i,s){var n,o,r,a,c,f="@"+e,h=i&&"object"==typeof i?i:{value:i};return"value"in h?(a=h.value,c="_"+e,n=function(){return c in this?this[c]:"function"==typeof a?a.call(this):a},o=function(t){this[c]=t}):(n=i.get||_[f]&&_[f].get||t.noop,o=i.set||_[f]&&_[f].set||t.noop),f in _&&(n.__base__=_[f].get,o.__base__=_[f].set),r=_[f]={__meta__:i,__name__:e,__type__:"property",get:n,set:o,configurable:!0},Object.defineProperty(_,e,r),r},t.defineMethod=function(t,_,e,i){var s="@"+_;return i.forEach(function(t){var _=t.prototype;s in _&&(e.__base__=_[s].__meta__)}),s in t&&(e.__base__=t[s].__meta__),t[_]=e,t[s]={__meta__:e,__name__:_,__type__:"method"}},t.defineBombMethod=function(_,e,i,s){var n=e.split(",");n.forEach(function(e){t.defineMethod(_,e,i.call(_,e),s)})},t.defineStatic=function(t,_,e,i){var s="@"+_;return i.forEach(function(t){s in t&&(e.__base__=t[s].__meta__)}),s in t&&(e.__base__=t[s].__meta__),t[_]=e,t[s]={__meta__:e,__name__:_,__type__:"static"}},t.defineMembers=function(_,e,i,s){var n="define"+_.charAt(0).toUpperCase()+_.slice(1);t.each(i,function(_,i){_.indexOf(",")>-1?t.defineBombMethod(e,_,i,s):t[n](e,_,i,s)})}}(nx,nx.GLOBAL),function(t,_){function e(){var t={},_=c.apply(r,arguments);return _.filter(function(_){return!t[_.__type__]&&(t[_.__type__]=!0)})}function i(_,e){this.type=_,this.meta=e,this.base=e["extends"]||t.RootClass,this.module=e.module,this.$base=this.base.prototype,this.__classMeta__={},this.__Class__=null,this.__constructor__=null}var s=1,n=0,o="nx.Anonymous",r=Array.prototype,a=r.slice,c=r.concat;i.prototype={constructor:i,initMetaProcessor:function(){var _=this.meta.methods||{},e=this.meta.statics||{};t.mix(this.__classMeta__,{__type__:this.type,__meta__:this.meta,__base__:this.base,__module__:this.module,__classId__:s++,__init__:_.init||this.base.__init__,__static_init__:e.init||this.base.__static_init__,__static_pure__:!this.meta.methods&&!!this.meta.statics})},createClassProcessor:function(){var t=this;this.__Class__=function(){this.__id__=++n,t.__constructor__.apply(this,arguments)}},mixinItemsProcessor:function(){var _=this.base,i=this.meta.mixins||[],s=this.__classMeta__,n=[],o={},r={},a={},c=[],f={},h={},u={};t.each(i,function(_,e){c=e.__mixins__,f=e.__methods__,h=e.__properties__,u=e.__statics__,n=n.concat(c),t.mix(o,f),t.mix(r,h),t.mix(a,u)}),s.__mixins__=e(n,_.__mixins__,i),s.__methods__=t.mix(o,_.__methods__),s.__properties__=t.mix(r,_.__properties__),s.__statics__=t.mix(a,_.__statics__)},inheritProcessor:function(){var t=this.__classMeta__;this.copyAtProps(t),this.defineMethods(t),this.defineProperties(t),this.defineStatics(t)},copyBaseProto:function(){this.__Class__.prototype.$base=this.$base},copyAtProps:function(_){var e=this.$base;t.each(e,function(t,_){t.indexOf("@")>-1&&(this.__Class__.prototype[t]=_)},this)},defineMethods:function(_){var e=t.mix(_.__methods__,this.meta.methods);t.defineMembers("method",this.__Class__.prototype,e,_.__mixins__)},defineProperties:function(_){var e=_.__static_pure__?this.__Class__:this.__Class__.prototype,i=t.mix(_.__properties__,this.meta.properties);t.defineMembers("property",e,i,_.__mixins__)},defineStatics:function(_){var e=t.mix(_.__statics__,this.meta.statics);t.defineMembers("static",this.__Class__,e,_.__mixins__)},methodsConstructorProcessor:function(){var _=this.__classMeta__,e=_.__mixins__;this.__constructor__=function(){var i=a.call(arguments);t.each(e,function(t,_){_.__init__.call(this)},this),_.__init__.apply(this,i)}},staticsConstructorProcessor:function(){var t=this.__classMeta__;t.__static_init__.call(this.__Class__)},registerNsProcessor:function(){var e=this.__Class__,i=this.type,n=this.__classMeta__;t.mix(e.prototype,n,{constructor:e}),t.mix(e,n),i!==o+s&&t.path(_,i,e)}},t.declare=function(t,_){var e="string"==typeof t?t:o+s,n=_||t,r=new i(e,n);return r.initMetaProcessor(),r.createClassProcessor(),r.copyBaseProto(),r.mixinItemsProcessor(),r.inheritProcessor(),r.methodsConstructorProcessor(),r.staticsConstructorProcessor(),r.registerNsProcessor(),r.__Class__}}(nx,nx.GLOBAL);